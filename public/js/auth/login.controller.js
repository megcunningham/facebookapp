'use strict';

angular.module('facebook-app').controller('loginCtrl', function ($rootScope, $scope, $location, API_URL) {
	var vm = this;

	vm.login = function () {
		console.log('worked');
		var fb = new Firebase(API_URL);

		fb.authWithPassword({
			email: vm.email,
			password: vm.password
		}, function (err, authData) {
			if (err) {
				console.log('Error', err);
			} else {
				$rootScope.auth = authData;
				$scope.$apply(function () {
					$location.path('/');
				});
			}
		});
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9hdXRoL2xvZ2luLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLENBQ0wsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUV0QixVQUFVLENBQUMsV0FBVyxFQUFFLFVBQVUsVUFBVSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzFFLEtBQUksRUFBRSxHQUFHLElBQUksQ0FBQzs7QUFFZCxHQUFFLENBQUMsS0FBSyxHQUFHLFlBQVk7QUFDdEIsU0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNyQixNQUFJLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFOUIsSUFBRSxDQUFDLGdCQUFnQixDQUFDO0FBQ25CLFFBQUssRUFBRSxFQUFFLENBQUMsS0FBSztBQUNmLFdBQVEsRUFBRSxFQUFFLENBQUMsUUFBUTtHQUNyQixFQUFFLFVBQVUsR0FBRyxFQUFFLFFBQVEsRUFBRTtBQUMxQixPQUFJLEdBQUcsRUFBRTtBQUNSLFdBQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0lBQzFCLE1BQU87QUFDTixjQUFVLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztBQUMzQixVQUFNLENBQUMsTUFBTSxDQUFDLFlBQVk7QUFDekIsY0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtLQUNuQixDQUFDLENBQUM7SUFDSDtHQUNGLENBQUMsQ0FBQTtFQUNILENBQUE7Q0FDRCxDQUFDLENBQUMiLCJmaWxlIjoic3JjL2pzL2F1dGgvbG9naW4uY29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIgXG5cdC5tb2R1bGUoJ2ZhY2Vib29rLWFwcCcpXG5cblx0LmNvbnRyb2xsZXIoJ2xvZ2luQ3RybCcsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc2NvcGUsICRsb2NhdGlvbiwgQVBJX1VSTCkge1xuXHRcdHZhciB2bSA9IHRoaXM7XG5cblx0XHR2bS5sb2dpbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvbnNvbGUubG9nKCd3b3JrZWQnKVxuXHRcdFx0dmFyIGZiID0gbmV3IEZpcmViYXNlKEFQSV9VUkwpO1xuXG5cdFx0XHRcdGZiLmF1dGhXaXRoUGFzc3dvcmQoe1xuXHRcdFx0XHRcdGVtYWlsOiB2bS5lbWFpbCxcblx0XHRcdFx0XHRwYXNzd29yZDogdm0ucGFzc3dvcmRcblx0XHRcdFx0fSwgZnVuY3Rpb24gKGVyciwgYXV0aERhdGEpIHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yJywgZXJyKVxuXHRcdFx0XHRcdH0gXHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0JHJvb3RTY29wZS5hdXRoID0gYXV0aERhdGE7XG5cdFx0XHRcdFx0XHRcdCRzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvJylcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXHRcdFxuXHRcdH1cblx0fSk7Il19
